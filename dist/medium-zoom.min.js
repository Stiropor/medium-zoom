/*!
 * medium-zoom v0.1.7
 * Medium zoom on your pictures in vanilla JavaScript
 * Copyright 2017 Francois Chalifour
 * https://github.com/francoischalifour/medium-zoom
 * Licensed under MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("mediumZoom",[],t):"object"==typeof exports?exports.mediumZoom=t():e.mediumZoom=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.margin,i=void 0===n?0:n,a=t.background,c=void 0===a?"#fff":a,d=t.scrollOffset,u=void 0===d?48:d,s=t.metaClick,l=void 0===s||s,m=t.defaultTimeout,f=void 0===m?150:m,v=["IMG"],p=[27,81],h=function(e){return v.includes(e.tagName)},g=function(e){return e.naturalWidth!==e.width},y=function(e){return NodeList.prototype.isPrototypeOf(e)||HTMLCollection.prototype.isPrototypeOf(e)},E=function(e){return e&&1===e.nodeType},b=function(){if(H){var e=new Event("show");H.dispatchEvent(e),q=document.documentElement.scrollTop||document.body.scrollTop,W=!0,document.body.appendChild(S),requestAnimationFrame(function(){document.body.classList.add("medium-zoom--open")}),H.classList.add("medium-zoom-image--open"),H.addEventListener("transitionend",O),M()}},L=function(){if(H){var e=new Event("hide");H.dispatchEvent(e),setTimeout(function(){W=!0,document.body.classList.remove("medium-zoom--open"),H.style.transform="none",H.addEventListener("transitionend",A)},N.defaultTimeout)}},w=function(e){H?L():(H=e?e.target:P[0],b())},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N=r({},N,e),N.background&&(S.style.backgroundColor=N.background),N},x=function(e,t){P.forEach(function(n){n.addEventListener(e,t)})},C=function(){var e=function e(){var t=new Event("detach");P.forEach(function(e){e.classList.remove("medium-zoom-image"),e.removeEventListener("click",T),e.dispatchEvent(t)}),H&&H.removeEventListener("transitionend",e)};H?(L(),H.addEventListener("transitionend",e)):e()},T=function(e){if((e.metaKey||e.ctrlKey)&&N.metaClick)return window.open(e.target.getAttribute("data-original")||e.target.parentNode.href||e.target.src,"_blank");e.preventDefault(),w(e)},O=function e(){W=!1,H.removeEventListener("transitionend",e);var t=new Event("shown");H.dispatchEvent(t)},A=function e(){if(H){document.body.removeChild(S),H.classList.remove("medium-zoom-image--open"),W=!1,H.removeEventListener("transitionend",e);var t=new Event("hidden");H.dispatchEvent(t),H=null}},j=function(){if(!W&&H){var e=document.documentElement.scrollTop||document.body.scrollTop;Math.abs(q-e)>N.scrollOffset&&L()}},z=function(e){p.includes(e.keyCode||e.which)&&L()},M=function(){if(H){var e=window.innerWidth,t=window.innerHeight,n=e-2*N.margin,o=t-2*N.margin,r=H,i=r.width,a=r.height,c=r.naturalWidth,d=void 0===c?1/0:c,u=r.naturalHeight,s=void 0===u?1/0:u,l=H.getBoundingClientRect(),m=l.top,f=l.left,v=Math.abs(e/2-(f+i/2))<=10,p=Math.min(d,n)/i,h=Math.min(s,o)/a,g=Math.min(p,h)||1,y=v?0:((n-i)/2-f+N.margin)/g,E=((o-a)/2-m+N.margin)/g;H.style.transform="scale("+g+") translate3d("+y+"px, "+E+"px, 0)"}},N={margin:i,background:c,scrollOffset:u,metaClick:l,defaultTimeout:f};e instanceof Object&&(N=r({},N,e));var P=function(){try{return Array.isArray(e)?e.filter(h):y(e)?[].concat(o(e)).filter(h):E(e)?[e].filter(h):"string"==typeof e?[].concat(o(document.querySelectorAll(e))).filter(h):[].concat(o(document.querySelectorAll(v.map(function(e){return e.toLowerCase()}).join(",")))).filter(g)}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList, an HTMLCollection or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}}(),S=function(){var e=document.createElement("div");return e.classList.add("medium-zoom-overlay"),e.style.backgroundColor=N.background,e}(),H=null,q=0,W=!1;return P.forEach(function(e){e.classList.add("medium-zoom-image"),e.addEventListener("click",T)}),S.addEventListener("click",L),document.addEventListener("scroll",j),document.addEventListener("keyup",z),window.addEventListener("resize",L),{show:w,hide:L,toggle:w,update:k,addEventListeners:x,detach:C,images:P,options:N}};e.exports=i}])});
//# sourceMappingURL=medium-zoom.min.js.map